spring.application.name=gmail-buddy
server.port=8020
logging.level.com.aucontraire.gmailbuddy=DEBUG
logging.level.org.springframework.security=DEBUG
logging.level.org.springframework.security.oauth2.client=DEBUG
logging.level.org.springframework.security.oauth2.jwt=DEBUG
server.servlet.session.cookie.secure=true
server.servlet.session.cookie.http-only=true

# Gmail Buddy Configuration Properties
gmail-buddy.gmail-api.application-name=gmail-buddy
gmail-buddy.gmail-api.default-user-id=me
gmail-buddy.gmail-api.default-latest-messages-limit=50
gmail-buddy.gmail-api.batch-delete-max-results=500

# Rate Limiting Configuration
gmail-buddy.gmail-api.rate-limit.default-retry-seconds=60

# Batch Operations Rate Limiting Configuration (Aggressive Conservative Settings)
gmail-buddy.gmail-api.rate-limit.batch-operations.delay-between-batches-ms=2000
gmail-buddy.gmail-api.rate-limit.batch-operations.max-retry-attempts=4
gmail-buddy.gmail-api.rate-limit.batch-operations.initial-backoff-ms=2000
gmail-buddy.gmail-api.rate-limit.batch-operations.backoff-multiplier=2.5
gmail-buddy.gmail-api.rate-limit.batch-operations.max-backoff-ms=60000
# Gmail API Batch Size (Google recommends 50 for optimal performance, max 100)
gmail-buddy.gmail-api.rate-limit.batch-operations.max-batch-size=50
gmail-buddy.gmail-api.rate-limit.batch-operations.micro-delay-between-operations-ms=10

# Service Unavailable Configuration
gmail-buddy.gmail-api.service-unavailable.default-retry-seconds=300

# Message Processing Configuration
gmail-buddy.gmail-api.message-processing.mime-types.html=text/html
gmail-buddy.gmail-api.message-processing.mime-types.plain=text/plain
gmail-buddy.gmail-api.message-processing.labels.unread=UNREAD

# Gmail Query Operators
gmail-buddy.gmail-api.query-operators.from=from:
gmail-buddy.gmail-api.query-operators.to=to:
gmail-buddy.gmail-api.query-operators.subject=subject:
gmail-buddy.gmail-api.query-operators.has-attachment=has:attachment 
gmail-buddy.gmail-api.query-operators.label=label:
gmail-buddy.gmail-api.query-operators.and=\\ AND\\ 

# OAuth2 Configuration
gmail-buddy.oauth2.client-registration-id=google
gmail-buddy.oauth2.token.prefix=Bearer 

# Error Handling Configuration
gmail-buddy.error-handling.error-codes.rate-limit-exceeded=RATE_LIMIT_EXCEEDED
gmail-buddy.error-handling.error-codes.service-unavailable=SERVICE_UNAVAILABLE
gmail-buddy.error-handling.error-codes.validation-error=VALIDATION_ERROR
gmail-buddy.error-handling.error-codes.constraint-violation=CONSTRAINT_VIOLATION
gmail-buddy.error-handling.error-codes.gmail-service-error=GMAIL_SERVICE_ERROR
gmail-buddy.error-handling.error-codes.message-not-found=MESSAGE_NOT_FOUND
gmail-buddy.error-handling.error-codes.authentication-error=AUTHENTICATION_ERROR
gmail-buddy.error-handling.error-codes.authorization-error=AUTHORIZATION_ERROR
gmail-buddy.error-handling.error-codes.resource-not-found=RESOURCE_NOT_FOUND
gmail-buddy.error-handling.error-codes.gmail-api-error=GMAIL_API_ERROR
gmail-buddy.error-handling.error-codes.internal-server-error=INTERNAL_SERVER_ERROR

# Error Categories
gmail-buddy.error-handling.error-categories.client-error=CLIENT_ERROR
gmail-buddy.error-handling.error-categories.server-error=SERVER_ERROR

# Validation Configuration
gmail-buddy.validation.gmail-query.dangerous-pattern=.*[<>"'&;\\|\\*\\?\\[\\]\\(\\)\\{\\}\\$`\\\\].*
gmail-buddy.validation.gmail-query.valid-operators-pattern=^(?:[\\w\\s\\-@\\.\\+]*|(?:from|to|subject|has|in|is|after|before|older|newer|label|category|filename|cc|bcc):[\\w\\s\\-@\\.\\+]*\\s*)*$
gmail-buddy.validation.email.pattern=^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$

# Security Configuration
gmail-buddy.security.permit-all-patterns=/login**,/oauth2/**
gmail-buddy.security.oauth2-security.default-success-url=/dashboard
gmail-buddy.security.oauth2-security.authorization-base-uri=/oauth2/authorization

# Environment Configuration
gmail-buddy.environment.env-file.directory=./
gmail-buddy.environment.env-file.name=.env

spring.security.oauth2.client.registration.google.client-id=${GOOGLE_CLIENT_ID:YOUR_CLIENT_ID}
spring.security.oauth2.client.registration.google.client-secret=${GOOGLE_CLIENT_SECRET:YOUR_CLIENT_SECRET}
spring.security.oauth2.client.registration.google.scope=email,profile,https://www.googleapis.com/auth/gmail.readonly,https://www.googleapis.com/auth/gmail.modify,https://mail.google.com
spring.security.oauth2.client.registration.google.redirect-uri={baseUrl}/login/oauth2/code/{registrationId}
spring.security.oauth2.client.provider.google.token-uri=https://oauth2.googleapis.com/token
spring.security.oauth2.client.provider.google.authorization-uri=https://accounts.google.com/o/oauth2/auth
